<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <input type="text" id="text">
    <button id="btn">发送</button>
    <script>
        // new WebSocket('ws://'),这里是ws协议,还有ftp,http 
        var ws = new WebSocket('ws://localhost:2233');        
       
// ws.onopen 创建连接后自动调用onopen
        ws.onopen = function(){ 
            // ws.send('客户端发送的信息');
            document.getElementById('btn').addEventListener('click',function(){
                ws.send(document.getElementById('text').value)
        });
        }
// ws.onmessage 自动接受来自服务端 ws.sendText() 的内容
        ws.onmessage = function(e){
            // console.log(e.data)
            var p = document.createElement('p');
            p.innerHTML = e.data;
            document.body.appendChild(p);
        }
    </script>
</body>
</html>